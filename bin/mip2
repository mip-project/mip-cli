#!/usr/bin/env node

const cli = require('../lib/cli');
const semver = require('semver');
const requiredNodeVersion = require('../package').engines.node;
const version = require('../package').version;

if (!semver.satisfies(process.version, requiredNodeVersion)) {
    console.log(cli.chalk.red(
        `You are using Node ${process.version}, but this version of mip-cli ` +
        `requires Node ${requiredNodeVersion}.\nPlease upgrade your Node version.`
    ));
    process.exit(1);
}

cli.program
    .usage('<command> [options]')
    .version(version)
    .command('init', cli.chalk.green('初始化 MIP 2.0 项目'))
    .command('validate', cli.chalk.green('验证 MIP 2.0 网页或组件'))
    .command('start', cli.chalk.green('启动调试服务器'))
    .command('publish', cli.chalk.green('提交自定义组件'))
    // .command('release', cli.chalk.green('上线自定义'))
    .parse(process.argv);
